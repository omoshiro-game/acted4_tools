<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title data-i18n="title">World Map Converter</title>
    <script type="module" crossorigin src="./assets/worldmap-IKdCewKW.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/worldmap-nUlr_AMl.css">
  </head>
  <body>
    <main>
      <header>
        <div>
          <h1 data-i18n="title">World Map Converter</h1>
          <p data-i18n="description">
            Dump <code>WorldMap.dat</code> files to JSON, tweak them, then rebuild an identical
            binary. The parser mirrors the desktop editor so you can debug issues without
            leaving the browser.
          </p>
        </div>
        <select id="language-select" class="language-select">
          <option value="en">English</option>
          <option value="ja">日本語</option>
        </select>
      </header>

      <div class="panels">
        <section class="panel" aria-labelledby="dump-title">
          <div>
            <h2 id="dump-title" data-i18n="dumpTitle">Dump WorldMap.dat</h2>
            <p data-i18n="dumpDescription">Select a binary world map. The tool parses and prints a formatted JSON payload.</p>
          </div>

          <div class="drop-zone" id="dump-drop-zone">
            <div class="drop-zone-content">
              <p data-i18n="dropZoneDump">Drop WorldMap.dat file here or use file picker</p>
            </div>
            <label class="file-picker">
              <span data-i18n="filePickerLabel">WorldMap.dat file</span>
              <input id="dump-file" type="file" accept=".dat,application/octet-stream" />
            </label>
          </div>

          <section class="actions">
            <button id="dump-button" type="button" data-i18n="dumpButton">Dump to JSON</button>
            <button id="copy-json" class="secondary" type="button" data-i18n="copyJson">Copy JSON</button>
            <a id="download-json" class="download-link secondary disabled" href="#" download data-i18n="downloadJson">
              Download JSON
            </a>
          </section>

          <div id="dump-status" class="status" role="status" aria-live="polite"></div>

          <textarea id="json-output" spellcheck="false" placeholder="JSON output" data-i18n-placeholder="jsonOutputPlaceholder"></textarea>
        </section>

        <section class="panel" aria-labelledby="build-title">
          <div>
            <h2 id="build-title" data-i18n="buildTitle">Build WorldMap.dat</h2>
            <p data-i18n="buildDescription">Load a JSON payload (dumped or hand-authored) and rebuild a binary file.</p>
          </div>

          <div class="drop-zone" id="build-drop-zone">
            <div class="drop-zone-content">
              <p data-i18n="dropZoneBuild">Drop JSON file here or use file picker</p>
            </div>
            <section class="actions">
              <button id="load-json-file" class="secondary" type="button" data-i18n="loadJsonFile">Load JSON file</button>
              <input id="build-file" type="file" accept=".json,application/json" hidden />
            </section>
          </div>

          <section class="actions">
            <button id="build-button" type="button" data-i18n="buildButton">Build binary</button>
            <a id="download-dat" class="download-link secondary disabled" href="#" download data-i18n="downloadDat">
              Download WorldMap.dat
            </a>
          </section>

          <div id="build-status" class="status" role="status" aria-live="polite"></div>

          <textarea
            id="json-input"
            spellcheck="false"
            placeholder="Paste or edit the world map JSON that should become WorldMap.dat"
            data-i18n-placeholder="jsonInputPlaceholder"
          ></textarea>
        </section>
      </div>

      <p class="footer" data-i18n="footer">
        For testing purpose. Not a final product or tool.
      </p>
    </main>

  </body>
</html>